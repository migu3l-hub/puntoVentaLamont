{% extends 'global/index.html' %}
{% load widget_tweaks %}
{% block titulo %}
    Proyecto LANIA | Registro de Aparato
{% endblock titulo %}

{% block body %}
    <form method="POST">
        <main>
            <div class="container-fluid">
                <h1 class="mt-4">Tables</h1>
                <ol class="breadcrumb mb-4">
                    <li class="breadcrumb-item"><a href="index.html">Aparatos</a></li>
                    <li class="breadcrumb-item active">Tables</li>
                </ol>
                <div class="card mb-4">
                    <div class="card-body">
                        DataTables is a third party plugin that is used to generate the demo table below. For more
                        information about DataTables, please visit the
                        <a target="_blank" href="https://datatables.net/">official DataTables documentation</a>
                        .
                    </div>
                </div>
                <div class="card mb-4">
                    <div class="card-header">
                        <i class="fas fa-plus-square"></i>
                        &nbsp; Incerte los datos del nuevo cliente
                    </div>
                    <div class="card-body">
                        <form action="{% url 'global:crear_aparato' %}" method="post" enctype="multipart/form-data"
                              class="form-horizontal">
                            {% csrf_token %}
                            {% for field in form %}
                                <div class="row form-group">
                                    <div class="col col-md-3">{{ field.label }}</div>
                                    <div class="col-12 col-md-8">{{ field|add_class:'form-control'|attr:'autocomplete:off' }}</div>
                                </div>
                            {% endfor %}
                            <div class="text-center">
                                <button type="submit" class="btn btn-primary" aria-hidden="true">
                                    <i class="fas fa-plus"></i> Registrar
                                </button> &nbsp; &nbsp; &nbsp; &nbsp;
                                <a href="{% url 'global:listar_aparato' %}" class="btn btn-danger"
                                   aria-hidden="true"> <i class="fas fa-trash"></i>  Cancelar</a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </main>

    </form>


{% endblock body %}

{% block extrajs %}
    <script>
        {% if form.errors %} <!-- MML se imprimen los errores del formulario-->
            var errors = '';
            {% for field in form %}
                {% for error in field.errors %}
                    errors += '{{ error }}\n';
                {%  endfor %}
            {% endfor %}
            Swal.fire({
                title: 'Error!',
                text: errors,
                icon: 'error',
                confirmButtonText: 'OK'
            })
        {%  endif %}
    </script>
{% endblock %}





























{#<div class="modal-dialog modal-lg" role="document">#}
{#    <div class="modal-content">#}
{#        <div class="modal-header">#}
{#            <h2 class="modal-title">Edici√≥n de Aparato: {{ object.nombre }}</h2>#}
{#            <button class="close" type="button" data-dismiss = "modal" aria-label="Close">#}
{#                <span aria-hidden="true">&times;</span>#}
{#            </button>#}
{#        </div>#}
{#        <form action="{% url 'global:editar_aparato' object.id %}" method="POST">#}
{#            {% csrf_token %}#}
{#            <div class="modal-body">#}
{#                {{ form.as_p }}#}
{#            </div>#}
{#            <div class="modal-footer">#}
{#                <button class="btn btn-danger" type="button" data-dismiss="modal">Cancelar</button>#}
{#                <button class="btn btn-primary" type="submit">Confirmar</button>#}
{#            </div>#}
{#        </form>        #}
{#    </div>#}
{#</div>#}