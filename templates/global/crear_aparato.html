{% extends 'global/index.html' %}
{% load widget_tweaks %}
{% block titulo %}
  Proyecto LANIA | Registro de Aparato
{% endblock titulo %}

{% block body %}

      <div class="card">
          <div class="card-header">
              <strong>Formulario de Registro</strong>
          </div>
          <div class="card-body card-block">
              <form action="{% url 'global:crear_aparato' %}" method="post" enctype="multipart/form-data" class="form-horizontal">
              {% csrf_token %}
                  {% for field in form %}
                  <div class="row form-group">
                      <div class="col col-md-3">{{ field.label }}</div>
                      <div class="col-12 col-md-9">{{ field|add_class:'form-control'|attr:'autocomplete:off' }}</div>
                  </div>
                  {% endfor %}
                  <div class="text-center">
                      <button type="submit" class="btn btn-primary fa fa-floppy-o fa-2x" aria-hidden="true">  Registrar</button> &nbsp; &nbsp; &nbsp; &nbsp;
                      <a href="{% url 'global:listar_aparato' %}" class="btn btn-danger fa fa-trash fa-2x" aria-hidden="true">  Cancelar</a>
                  </div>
              </form>
          </div>
      </div>



{% endblock body %}

{% block extrajs %}
<script>
    {% if form.errors %} <!-- MML se imprimen los errores del formulario-->
    var errors = '';
    {% for field in form %}
        {% for error in field.errors %}
            errors += '{{ error }}\n';
        {%  endfor %}
    {% endfor %}
        Swal.fire({
          title: 'Error!',
          text: errors,
          icon: 'error',
          confirmButtonText: 'OK'
        })
    {%  endif %}
</script>
{% endblock %}




{#<div class="modal-dialog modal-lg" role="document">#}
{#  <div class="modal-content">#}
{#    <div class="modal-header">#}
{#      <h2 class="modal-title">Creacion de Aparato</h2>#}
{#      <button class="close" type="button" data-dismiss="modal" aria-label="Close">#}
{#        <span aria-hidden="true">&times;</span>#}
{#      </button>#}
{#    </div>#}
{#    <form action="{% url 'global:crear_aparato' %}" method="POST">#}
{#      {% csrf_token %}#}
{#      <div class="modal-body">#}
{#        {{ form.media }}#}
{#        {{ form.as_p }}#}
{#      </div>#}
{#      <div class="modal-footer">#}
{#        <button class="btn btn-danger" type="button" data-dismiss="modal">Cancelar</button>#}
{#        <button class="btn btn-primary" type="submit">Confirmar</button>#}
{#      </div>#}
{#    </form>#}
{#  </div>#}
{#</div>#}